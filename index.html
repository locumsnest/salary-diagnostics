<html ng-app="ether">
  <title>Locum Savings Calculator</title>
  
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">

  <meta name="title" content="Locum Savings Calculator 1">
  <meta name="keywords" content="locum savings calculator">
  <meta name="description" content="Calculating savings in an agency free world">

  <link rel="stylesheet" href="http://bootswatch.com/superhero/bootstrap.min.css">

  <style>
    [ng\:cloak], [ng-cloak], [data-ng-cloak], [x-ng-cloak], .ng-cloak, .x-ng-cloak {
      display: none !important;
    }
  </style>
</head>

<body ng-controller="LocumSavingsCtrl" ng-cloak>
  <div class="container">
    <div class="row text-center">
      <h1>Locum Savings Calculator</h1>
    </div>
  </div>

  <hr />
  
  <div class="container">
    <div class="row">
      <div class="col-lg-6">
        <h2>Calculator</h2>

        <form ng-submit="computeProfits()" class="form-horizontal">
          <div class="form-group">
            <label class="col-lg-5 control-label"> Enter hourly compensation</label>
            <div class="col-lg-7">
              <input 
                type="text" 
                class="form-control" 
                ng-model="hourlyRate" 
                placeholder="Hourly compensation (GBP)"
                ng-change="computeProfits()"/>
            </div>
          </div>
          <div class="form-group">
            <label class="col-lg-5 control-label">Locum Hours Per Week</label>
            <div class="col-lg-7">
              <input 
                type="text" 
                class="form-control" 
                ng-model="hoursPerWeek" 
                placeholder="Hours Per Week"
                ng-change="computeProfits()"/>
            </div>
          </div>
          <div class="form-group">
            <label class="col-lg-5 control-label">Agency percentage</label>
            <div class="col-lg-7">
              <input 
                type="text" 
                class="form-control" 
                ng-model="agencyPercentage" 
                placeholder="Agency Percentage"
                ng-change="computeProfits()"/>
            </div>
          </div>
        </form>
      </div>
      <div class="col-lg-6">
        <h2>Savings </h2>

        <table class="table table-striped">
          <thead>
            <tr>
              <th class="col-lg-4">Period</th>
              <th class="col-lg-4 text-left">GBP</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Minute</td>
              <td ng-bind="earnings.min | number:2"></td>
            </tr>
            <tr>
              <td>Hour</td>
              <td ng-bind="earnings.hour | number:2"></td>
            </tr>
            <tr>
              <td>Day</td>
              <td ng-bind="earnings.day | number:2"></td>
            </tr>
            <tr>
              <td>Week</td>
              <td ng-bind="earnings.week | number:2"></td>
            </tr>
            <tr>
              <td>Month</td>
              <td ng-bind="earnings.month | number:2"></td>
            </tr>
            <tr>
              <td>Year</td>
              <td ng-bind="earnings.year | number:2"></td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <div class="container">
    <div class="row">
      <div class="col-lg-12">
        <h2>Notes</h2>
        <ul>
          <li>Assumes a simple percentage fee structure.</li>
        </ul>
      </div>
    </div>
  </div>

  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular-resource.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/bignumber.js/2.0.7/bignumber.js"></script>
  <script src="//alpha61.com/ethereum.json"></script>
  <script>

    angular.module('ether', ['ngResource']).config(['$controllerProvider', function($controllerProvider) {
      $controllerProvider.allowGlobals();
    }]);

    function LocumSavingsCtrl($scope, $http, $log) {

      $scope.earnings = {};

      $scope.computeProfits = function() {
        var userRatio = $scope.hourlyRate * $scope.agencyPercentage;
        var savingsPerMin = userRatio * 1 / 60.;
        $scope.earnings.min = savingsPerMin;
        $scope.earnings.hour = $scope.earnings.min * 60;
        $scope.earnings.day = $scope.earnings.hour * 8;
        $scope.earnings.week = $scope.earnings.hour * $scope.hoursPerWeek;
        $scope.earnings.month = $scope.earnings.week * 52. / 12.;
        $scope.earnings.year = $scope.earnings.week * 52.;
      };

      $scope.updateUserHash = function() {
        var value = $scope.userChoice;
        $scope.userHash = value;
        $scope.computeProfits();
      };
    }
  </script>

</body>
</html>
